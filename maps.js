let client = Module.load("/home/user/.local/share/Steam/steamapps/common/Team Fortress 2/tf/bin/client.so").base
let getMapDisplayName_addr = client.add("0xd02a50")
let getMapType_addr = client.add("0xd02e50")
let getMapDisplayName = new NativeFunction(getMapDisplayName_addr, "pointer", ["pointer"])
let getMapType = new NativeFunction(getMapType_addr, "pointer", ["pointer"])

let map_mappings = {}

let maps = [
  "arena_badlands",
  "arena_byre",
  "arena_granary",
  "arena_lumberyard",
  "arena_lumberyard_event",
  "arena_nucleus",
  "arena_offblast_final",
  "arena_ravine",
  "arena_sawmill",
  "arena_watchtower",
  "arena_well",
  "background01",
  "cp_5gorge",
  "cp_altitude",
  "cp_ambush_event",
  "cp_badlands",
  "cp_cloak",
  "cp_coldfront",
  "cp_degrootkeep",
  "cp_dustbowl",
  "cp_egypt_final",
  "cp_fastlane",
  "cp_foundry",
  "cp_freight_final1",
  "cp_gorge",
  "cp_gorge_event",
  "cp_granary",
  "cp_gravelpit",
  "cp_gullywash_final1",
  "cp_junction_final",
  "cp_manor_event",
  "cp_mercenarypark",
  "cp_metalworks",
  "cp_mossrock",
  "cp_mountainlab",
  "cp_powerhouse",
  "cp_process_final",
  "cp_snakewater_final1",
  "cp_snowplow",
  "cp_standin_final",
  "cp_steel",
  "cp_sunshine",
  "cp_sunshine_event",
  "cp_vanguard",
  "cp_well",
  "cp_yukon_final",
  "ctf_2fort",
  "ctf_2fort_invasion",
  "ctf_doublecross",
  "ctf_doublecross_snowy",
  "ctf_foundry",
  "ctf_gorge",
  "ctf_hellfire",
  "ctf_landfall",
  "ctf_sawmill",
  "ctf_snowfall_final",
  "ctf_thundermountain",
  "ctf_turbine",
  "ctf_well",
  "itemtest",
  "koth_badlands",
  "koth_bagel_event",
  "koth_brazil",
  "koth_cascade",
  "koth_harvest_event",
  "koth_harvest_final",
  "koth_highpass",
  "koth_king",
  "koth_lakeside_event",
  "koth_lakeside_final",
  "koth_lazarus",
  "koth_los_muertos",
  "koth_maple_ridge_event",
  "koth_megalo",
  "koth_moonshine_event",
  "koth_nucleus",
  "koth_probed",
  "koth_sawmill",
  "koth_slasher",
  "koth_slaughter_event",
  "koth_suijin",
  "koth_synthetic_event",
  "koth_undergrove_event",
  "koth_viaduct",
  "koth_viaduct_event",
  "mvm_bigrock",
  "mvm_coaltown",
  "mvm_decoy",
  "mvm_ghost_town",
  "mvm_mannhattan",
  "mvm_mannworks",
  "mvm_rottenburg",
  "pass_brickyard",
  "pass_district",
  "pass_timbertown",
  "pd_cursed_cove_event",
  "pd_farmageddon",
  "pd_monster_bash",
  "pd_pit_of_death_event",
  "pd_snowville_event",
  "pd_watergate",
  "pl_badwater",
  "pl_barnblitz",
  "pl_bloodwater",
  "pl_borneo",
  "pl_breadspace",
  "pl_cactuscanyon",
  "pl_chilly",
  "pl_coal_event",
  "pl_enclosure_final",
  "pl_fifthcurve_event",
  "pl_frontier_final",
  "pl_goldrush",
  "pl_hasslecastle",
  "pl_hoodoo_final",
  "pl_millstone_event",
  "pl_pier",
  "pl_precipice_event_final",
  "pl_rumble_event",
  "pl_snowycoast",
  "pl_swiftwater_final1",
  "pl_terror_event",
  "pl_thundermountain",
  "pl_upward",
  "pl_wutville_event",
  "plr_bananabay",
  "plr_hightower",
  "plr_hightower_event",
  "plr_nightfall_final",
  "plr_pipeline",
  "rd_asteroid",
  "sd_doomsday",
  "sd_doomsday_event",
  "tc_hydro",
  "tr_dustbowl",
  "tr_target",
  // "tr_walkway_rc2",
];
maps.forEach(function(map) {
  let mapName = Memory.allocUtf8String(map)
  let mapDisplayName = getMapDisplayName(mapName).readCString()
  let mapType = getMapType(mapName).readCString()
  console.log(`${map}: "${mapDisplayName}", "${mapType}"`);
})
